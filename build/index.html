<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Arcana Mundi</title>
    <link rel="apple-touch-icon" sizes="180x180" href="./favicon/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="./favicon/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="./favicon/favicon-16x16.png" />
    <link rel="shortcut icon" href="./favicon/favicon.ico" />
    <link rel="manifest" href="./favicon/site.webmanifest" />
    <meta name="theme-color" content="#000000" />
    <link rel="stylesheet" href="./styles.css" />
  </head>

  <body>
    <div id="wrapper">
      <canvas id="screen"></canvas>
    </div>
    <div id="controls">
      <button id="volumeToggle" class="control-toggle" type="button" aria-controls="volumePanel" aria-expanded="false" title="Volume">
        ðŸ”Š Volume
      </button>
      <div id="volumePanel" class="panel" role="group" aria-hidden="true">
        <label for="volumeSlider">
          Volume
          <input id="volumeSlider" type="range" min="0" max="100" step="5" value="100" />
        </label>
      </div>
      <button id="gamepadToggle" class="control-toggle" type="button" aria-controls="gamepadPanel" aria-expanded="false" title="Gamepad settings">
        ðŸŽ® Gamepad
      </button>
      <div id="gamepadPanel" class="panel" role="group" aria-hidden="true">
        <p id="gamepadStatus" class="panel-status"></p>
        <div class="binding-grid">
          <label>
            Primary (B)
            <select data-gamepad-binding="primary"></select>
          </label>
          <label>
            Secondary (A)
            <select data-gamepad-binding="secondary"></select>
          </label>
          <label>
            Tertiary (X)
            <select data-gamepad-binding="tertiary"></select>
          </label>
          <label>
            Quaternary (Y)
            <select data-gamepad-binding="quaternary"></select>
          </label>
          <label>
            Select
            <select data-gamepad-binding="select"></select>
          </label>
          <label>
            Start
            <select data-gamepad-binding="start"></select>
          </label>
          <label>
            L
            <select data-gamepad-binding="l1"></select>
          </label>
          <label>
            R
            <select data-gamepad-binding="r1"></select>
          </label>
        </div>
        <p class="panel-hint">D-pad stays mapped to the controller's directional pad. Choose a button for each action and press it to test.</p>
      </div>
    </div>

    <script src="https://discord.com/assets/embedded-sdk/2.0.0/discord-embedded-app-sdk.js"></script>
    <script>
      //TODO: replace DISCORD_ID
      DiscordEmbeddedAppSDK.init({ clientId: "DISCORD_ID" }).then(() => {
        console.log("Discord SDK ready");
      });
    </script>
  </body>

  <script>
    window.Module = window.Module || {};
  </script>
  <script src="rom.js"></script>
  <script src="wasm/blastem_libretro.js"></script>
  <script type="module" src="main.js"></script>
</html>
